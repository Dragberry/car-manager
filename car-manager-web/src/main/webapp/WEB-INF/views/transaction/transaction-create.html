<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
	layout:decorator="template/content-template">
<head>
	<title th:text="#{ÂŒmsg.transaction.new}">New transaction</title>
</head>
<body>
	<div layout:fragment="headerPanel">
		<h4 th:text="#{msg.transaction.new}">New transaction</h4>
	</div>
	
	<div layout:fragment="leftMenu">
		<span>Menu</span>
	</div>
	
	<div layout:fragment="data">
		<form method="POST" th:object="${transaction}">
			<div class="col-md-6" >
				<div class="form-group col-md-8">
				  	<label th:for="*{carKey}" 
				  		th:text="#{msg.car}">
				  		Car
				  	</label>
				  	<select class="form-control" th:field="*{carKey}">
				  		<option th:each="car : ${carList}" 
				        	th:value="${car.carKey}" 
				        	th:text="${car.brand} + ' ' + ${car.model}"/>
				  	</select>
				</div>
				<div class="form-group col-md-8">
					<label th:for="*{executionDate}" 
				  		th:text="#{msg.transaction.executionDate}">
				  		Execution date
				  	</label>
					<div class='input-group date' id='transactionExecutionDate'>
                    	<input type='text' class="form-control" th:field="*{executionDate}" />
                    	<span class="input-group-addon">
                        	<span class="glyphicon glyphicon-calendar"></span>
                    	</span>
                	</div>
				</div>
				<div class="form-group col-md-8">
				  	<label th:for="*{transactionTypeKey}" 
				  		th:text="#{msg.transactionType}">
				  		Transaction type
				  	</label>
				  	<select class="form-control" th:field="*{transactionTypeKey}">
				  		<option th:each="type : ${transactionTypeList}" 
				        	th:value="${type.transactionTypeKey}" 
				        	th:text="${type.name}"/>
				  	</select>
				</div>
			</div>
			<div class="col-md-6" >
				<div class="form-group col-md-8">
					<label th:for="*{amount}" th:text="#{msg.amount}">Amount</label>
				  	<input type="text" class="form-control" th:field="*{amount}"/>
				</div>
				<div class="form-group col-md-4">
					<label th:for="*{currency}" th:text="#{msg.currency}">Currency</label>
					<select class="form-control" th:field="*{currency}">
				  		<option th:each="currency : ${currencyList}" 
				        	th:value="${currency}" 
				        	th:text="${currency}"/>
				  	</select>
				</div>
				<div class="form-group col-md-12">
					<label th:for="*{description}" th:text="#{msg.description}">Description</label>
				  	<input type="text" class="form-control" th:field="*{description}"/>
				</div>
			</div>
			<div class="form-group col-md-12">
				<input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
				<button type="submit" class="btn btn-primary" th:text="#{msg.transaction.submitCreate}">Submit transaction</button>
			</div>
		</form>
	</div>
	<th:block layout:fragment="script">
		<script type="text/javascript">
	    	$(document).ready(function() {
	        	$('#transactionExecutionDate').datetimepicker({
	            	locale: 'ru',
	            	format: 'YYYY-MM-DD'
	            });
	       	});
    	</script>
	</th:block>
</body>

</html>